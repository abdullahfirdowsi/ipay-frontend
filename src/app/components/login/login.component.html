<div class="auth-container">
  <div id="loginForm" class="form-container shadow-sm">
    <h2 class="mb-4">Login</h2>
    
    <!-- Error message alert -->
    <div *ngIf="errorMessage" class="alert alert-danger py-2" role="alert">
      <small>{{ errorMessage }}</small>
    </div>
    
    <form (ngSubmit)="login()" #loginForm="ngForm" [ngClass]="{'opacity-75': isSubmitting}" class="mb-3">
      <div class="mb-3">
        <input 
          [(ngModel)]="credentials.email" 
          name="email" 
          type="email" 
          id="loginEmail"
          class="form-control-lg"
          placeholder="Email" 
          required 
          [disabled]="isSubmitting" />
      </div>
      
      <div class="mb-3">
        <input 
          [(ngModel)]="credentials.password" 
          name="password" 
          type="password" 
          id="loginPassword"
          class="form-control-lg"
          placeholder="Password" 
          required 
          [disabled]="isSubmitting" />
      </div>
      
      <button 
        type="submit" 
        class="btn-lg w-100 mt-2"
        [disabled]="isSubmitting">
        <span *ngIf="isSubmitting" class="spinner-border spinner-border-sm me-2" role="status" aria-hidden="true"></span>
        {{ isSubmitting ? 'Logging in...' : 'Login' }}
      </button>
    </form>
    
    <p id="signupPrompt" class="text-center mb-0">
      Don't have an account? <a routerLink="/register" class="fw-medium">Sign Up</a>
    </p>
  </div>
</div>

<script>
  // Add auth-page class to body for login/register pages
  document.body.classList.add('auth-page');
  
  // Clean up when component is destroyed
  window.addEventListener('beforeunload', function() {
    document.body.classList.remove('auth-page');
  });
</script>
